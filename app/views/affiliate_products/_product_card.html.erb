<div class="bg-white flex flex-col border-2 <%= highlighted ? 'border-black shadow-lg' : 'border-gray-200' %> overflow-hidden">
  <!-- Image -->
  <div class="w-full flex items-center justify-center p-4">
    <img src="<%= affiliate_product.image_url %>" 
         alt="<%= affiliate_product.title %>"
         class="w-full h-64 object-contain"/>
  </div>

  <!-- Content -->
  <div class="flex flex-col flex-grow p-6">
    <h2 class="text-lg font-semibold mb-4 text-gray-900"><%= affiliate_product.title %></h2>
    
    <div class="mt-auto flex flex-col gap-3">
      <a href="<%= affiliate_product.affiliate_url %>" target="_blank" rel="nofollow" 
         class="translate-x-[2px] w-full px-4 py-2 bg-brand text-black font-semibold text-center border border-black shadow-[-4px_4px_0_0_#000] transition-all duration-150 
                hover:translate-x-[-4px] hover:translate-y-[4px] hover:shadow-none cursor-pointer 
                active:translate-x-[-4px] active:translate-y-[4px] active:shadow-none">
        Guarda su Amazon
      </a>

      <% if current_user %>
        <%= link_to toggle_highlight_affiliate_product_path(affiliate_product),
          data: { turbo_method: :patch },
          class: "translate-x-[2px] w-full px-4 py-2 #{affiliate_product.highlighted? ? 'bg-gray-600' : 'bg-yellow-500'} text-#{affiliate_product.highlighted? ? 'white' : 'black'} font-semibold text-center border border-black shadow-[-4px_4px_0_0_#000] transition-all duration-150 
                  hover:translate-x-[-4px] hover:translate-y-[4px] hover:shadow-none cursor-pointer 
                  active:translate-x-[-4px] active:translate-y-[4px] active:shadow-none" do %>
          <%= affiliate_product.highlighted? ? 'Rimuovi evidenza' : 'Metti in evidenza' %>
        <% end %>

        <%= link_to 'Elimina', affiliate_product_path(affiliate_product),
          data: { turbo_method: :delete, turbo_confirm: 'Sicuro?' },
          class: "translate-x-[2px] w-full px-4 py-2 bg-red-600 text-white font-semibold text-center border border-black shadow-[-4px_4px_0_0_#000] transition-all duration-150 
                  hover:translate-x-[-4px] hover:translate-y-[4px] hover:shadow-none cursor-pointer 
                  active:translate-x-[-4px] active:translate-y-[4px] active:shadow-none" %>
      <% end %>
    </div>
  </div>
</div>
